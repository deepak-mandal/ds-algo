<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!--latest compiled and minified CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        
    <!--jQuery library-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <!--Latest compiled and minified javascript-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


</head>
<body>

    <div class="container">

        <h1>Angular Services - Movie, to perform CRUD Operations</h1>

        <!--for Create ad Update operaton using 2 way binding:- taking data via a Form-->
        <form #myForm="ngForm">
            <div class="mb-3">
              <label for="id" class="form-label">ID</label>
              <input type="number" class="form-control" name="id" [(ngModel)]="movieObj.id">
            </div>
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" name="name" [(ngModel)]="movieObj.name">
            </div>
            <div class="mb-3">
                <label for="language" class="form-label">Language</label>
                <input type="text" class="form-control" name="language" [(ngModel)]="movieObj.language">
            </div>
            <div class="mb-3">
                <label for="rating" class="form-label">Rating</label>
                <input type="text" class="form-control" name="rating" [(ngModel)]="movieObj.rating">
            </div><br>
            <button type="button" (click)="addMovie(myForm.value)" class="btn btn-primary" *ngIf="!isEdit">Submit</button>
            <button type="button" class="btn btn-info" *ngIf="isEdit" (click)="updateMovie(myForm.value)">Update</button>
        </form>


        <!--{{movieData | json}}-->


        <!--For Read operation and displaying the Movie Details-->
        <hr>
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <tbody>
                    <tr>
                        <th>id</th>
                        <th>name</th>
                        <th>language</th>
                        <th>rating</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                    
                    <tr *ngFor="let movie of movieData">
                        <td>{{movie.id}}</td>
                        <td>{{movie.name}}</td>
                        <td>{{movie.language}}</td>
                        <td>{{movie.rating}}</td>
                        <td><button (click)="editMovie(movie)" type="button" class="btn btn-warning">Update</button></td>
                        <td><button (click)="deleteMovie(movie)" type="button" class="btn btn-danger">Delete</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
</body>
</html>



